"use strict";var UpdateEvent=UpdateEvent||{Type:{onlineAuto:"online",offlineAuto:"offline",others:{dbparam:"dbparam",openssh:"openssh",apache:"apache"}},UpdateString:{onlineAuto:"update",offlineAuto:'if [ -f ~/release-$ROS_DISTRO.zip ]; \n        \t\t\t\t  then unzip ~/release-$ROS_DISTRO.zip; \n\t        \t\t\t  release-$ROS_DISTRO/install/share/bringup/shell/update-offline.sh; \n\t        \t\t\t  rm -r release-$ROS_DISTRO; \n\t        \t\t\t  rm ~/release-$ROS_DISTRO.zip; \n\t        \t\t\t  rostopic pub -1 /shell_feedback std_msgs/String "update:success"; \n        \t\t\t  else  \n        \t\t\t  \t  rostopic pub -1 /shell_feedback std_msgs/String "update:failure"; \n        \t\t\t  fi;',others:{dbparam:'if [ -f /media/`whoami`/*/dbparam-$ROS_DISTRO.zip ]; then unzip /media/`whoami`/*/dbparam-$ROS_DISTRO.zip; cd dbparam-$ROS_DISTRO; ./install.sh; cd ..; rm -r dbparam-$ROS_DISTRO; rm ~/dbparam-$ROS_DISTRO.zip; rostopic pub -1 /shell_feedback std_msgs/String "update:success"; else  rostopic pub -1 /shell_feedback std_msgs/String "update:failure"; fi;',openssh:'if [ -f /media/`whoami`/*/openssh-$ROS_DISTRO.zip ]; then unzip /media/`whoami`/*/openssh-$ROS_DISTRO.zip; cd openssh-$ROS_DISTRO; ./install.sh; cd ..; rm -r openssh-$ROS_DISTRO; rostopic pub -1 /shell_feedback std_msgs/String "update:success"; else  rostopic pub -1 /shell_feedback std_msgs/String "update:failure"; fi;',apache:'if [ -f ~/apache-$ROS_DISTRO.zip ]; then unzip ~/apache-$ROS_DISTRO.zip; cd apache-$ROS_DISTRO; ./install.sh; cd ..; rm -r apache-$ROS_DISTRO; rm ~/apache-$ROS_DISTRO.zip; rostopic pub -1 /shell_feedback std_msgs/String "update:success"; else  rostopic pub -1 /shell_feedback std_msgs/String "update:failure"; fi;'}},UpdateType:null,UpdateStart:!1,ConnectStart:!1};function radio_change(e){"radio1"==e?(swal({title:"在线自动更新",text:"请确认导航板可以连接网络！",imageUrl:"../image/error_information.png",showCancelButton:!1,confirmButtonColor:"#3b6dde",confirmButtonText:"确认",closeOnConfirm:!1}),UpdateEvent.UpdateType=UpdateEvent.Type.onlineAuto):"radio2"==e?(swal({title:"离线本地更新",text:"请先把dbparam-***.zip文件放置在pkg文件夹中，然后运行update脚本！",imageUrl:"../image/error_information.png",showCancelButton:!1,confirmButtonColor:"#3b6dde",confirmButtonText:"确认",closeOnConfirm:!1}),UpdateEvent.UpdateType=UpdateEvent.Type.offlineAuto):"radio3"==e?(swal({title:"U盘威尔2升级包",text:"请先把dbparam-***.zip文件放置在U盘根目录下插入导航板！",imageUrl:"../image/error_information.png",showCancelButton:!1,confirmButtonColor:"#3b6dde",confirmButtonText:"确认",closeOnConfirm:!1}),UpdateEvent.UpdateType=UpdateEvent.Type.others.dbparam):"radio4"==e&&(swal({title:"U盘安装文件传输包",text:"请先把openssh-***.zip文件放置在U盘根目录下插入导航板！",imageUrl:"../image/error_information.png",showCancelButton:!1,confirmButtonColor:"#3b6dde",confirmButtonText:"确认",closeOnConfirm:!1}),UpdateEvent.UpdateType=UpdateEvent.Type.others.openssh)}$(function(){$(".update_button").on("click",function(){if(UpdateEvent.UpdateType){DATA.loading={key:"update",info:"更新中"};var e="";switch(UpdateEvent.UpdateType){case UpdateEvent.Type.onlineAuto:e=UpdateEvent.UpdateString.onlineAuto;break;case UpdateEvent.Type.offlineAuto:e=UpdateEvent.UpdateString.offlineAuto;break;case UpdateEvent.Type.others.dbparam:e=UpdateEvent.UpdateString.others.dbparam;break;case UpdateEvent.Type.others.openssh:e=UpdateEvent.UpdateString.others.openssh}NAV.update(UpdateEvent.UpdateType,e)}else ALERT.error({title:"软件更新",text:"请选择更新方式"})})});