<?xml version="1.0"?>
<launch>
<group ns="test">
	<arg name="namespace"/>

    <include file="$(find bringup)/launch/map_server.launch"/>

    <include file="$(find bringup)/launch/map_edit_server.launch"/>
 
    <include file="$(find bringup)/launch/amcl.launch"/>

	<node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
		<rosparam file="$(find bringup)/launch/grayloo_test/params/costmap_common_params.yaml" ns="global_costmap"/>
		<rosparam file="$(find bringup)/launch/grayloo_test/params/costmap_common_params.yaml" ns="local_costmap"/>
		<rosparam file="$(find bringup)/launch/grayloo_test/params/local_costmap_params.yaml"/>
		<rosparam file="$(find bringup)/launch/grayloo_test/params/global_costmap_params.yaml"/>
		<param name="/global_costmap/static_layer/map_topic" value="$(arg namespace)/map"/>

		<rosparam file="$(find bringup)/launch/grayloo_test/params/base_local_planner_params.yaml"/>
		<rosparam file="$(find bringup)/launch/grayloo_test/params/dwa_local_planner_params.yaml"/>
		<rosparam file="$(find bringup)/launch/grayloo_test/params/move_base_params.yaml"/>
			
	</node>
</group>
</launch>
